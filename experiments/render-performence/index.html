<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>

</head>

<body>
    <style>
        .chart-container {
            width: 2450px;
            height: 1250px;
            padding: 50px;
        }
    </style>
    <div class="chart-container">
        <canvas id="chart" width="1200" height="600"></canvas>
    </div>
    <script>
        const data = {
            vanilla: {
                A: [10.04, 24.78, 41.2, 58.74, 73.09, 91.38],
                B: [28.67, 73.29, 123.18, 172.86, 222.29, 271.71],
                C: [29.52, 60.71, 93.18, 125.31, 158.33, 191.16],
                D: [1.44, 1.48, 1.43, 1.53, 1.52, 1.65]
            },
            global: {
                A: [11.2, 24.18, 37.52, 53.3, 68.39, 84.08],
                B: [9.97, 24.28, 38.03, 53.78, 70.97, 84.73],
                C: [10.42, 23.66, 37.71, 54.17, 69.97, 84.97],
                D: [10.37, 24.78, 39.67, 55.29, 70.63, 87.09]
            },
            xform: {
                A: [0.26, 0.25, 0.22, 0.25, 0.24, 0.24],
                B: [0.31, 0.28, 0.26, 0.26, 0.28, 0.31],
                C: [1.27, 1.53, 1.29, 1.33, 1.3, 1.35],
                D: [1.47, 1.34, 1.38, 1.47, 1.29, 1.29]
            },
            formily: {
                A: [1.36, 1.13, 1.01, 1.01, 1.03, 0.88],
                B: [0.65, 0.67, 0.69, 0.59, 0.53, 0.58],
                C: [0.8, 0.63, 0.68, 0.68, 0.66, 0.61],
                // C: [-1, -1, -1, -1, -1, -1],
                D: [4.9, 3.68, 3.39, 3.33, 3.2, 3.44]
            },
            final: {
                A: [10.92, 26.29, 43.7, 61.68, 78.2, 97.74],
                B: [28.17, 77.27, 133.98, 191.77, 242.42, 297.87],
                C: [29.31, 63.26, 101.61, 139, 175.91, 209.25],
                D: [11.26, 28.17, 45.89, 64.52, 81.67, 103.65]
            }
        }

        const context = document.getElementById("chart").getContext("2d")

        Chart.register(ChartDataLabels)

        const chart = new Chart(context, {
            data: {
                labels: ['1', '10', '20', '30', '40', '50'],
                datasets: [{
                    label: "XForm",
                    type: "bar",
                    backgroundColor: 'rgba(78, 328, 148, 0.6)',
                    borderColor: 'rgba(78, 328, 148, 0.9)',
                    borderWidth: 3,
                    data: data.xform.D,
                }, {
                    label: 'Formily',
                    type: "bar",
                    // backgroundColor: 'rgba(99, 0, 134, 0.6)',
                    // borderColor: 'rgba(99, 0, 134, 0.9)',
                    backgroundColor: 'rgba(99, 99, 99, 0.6)',
                    borderColor: 'rgba(99, 99, 99, 0.9)',
                    borderWidth: 3,
                    data: data.formily.D,
                }, {
                    label: 'Vanilla',
                    type: "bar",
                    backgroundColor: 'rgba(255, 215, 0, 0.6)',
                    borderColor: 'rgba(255, 215, 0, 0.9)',
                    borderWidth: 3,
                    data: data.vanilla.D,
                },
                // {
                //     label: 'Vanilla-A',
                //     type: "line",
                //     backgroundColor: 'rgba(255, 100, 0, 0.6)',
                //     borderColor: 'rgba(255, 100, 0, 0.9)',
                //     borderWidth: 3,
                //     data: data.vanilla.A,
                // },
                {
                    label: 'Global',
                    type: "bar",
                    backgroundColor: 'rgba(255, 99, 132, 0.6)',
                    borderColor: 'rgba(255, 99, 132, 0.9)',
                    borderWidth: 3,
                    data: data.global.D,
                }, {
                    label: 'Final',
                    type: "bar",
                    backgroundColor: 'rgba(0, 99, 132, 0.6)',
                    borderColor: 'rgba(0, 99, 132, 0.9)',
                    borderWidth: 3,
                    data: data.final.D,
                },]
            },
            options: {
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: "数组长度",
                            font: {
                                size: 20,
                            }
                        },
                        ticks: {
                            font: {
                                size: 18,
                            }
                        },
                        grid: {
                            display: false
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: "渲染时间(ms)",
                            font: {
                                size: 20,
                            }
                        },
                        ticks: {
                            font: {
                                size: 18,
                            }
                        },
                        beginAtZero: true
                    }
                },
                plugins: {
                    legend: {
                        labels: {
                            font: {
                                size: 20,
                                family: "Maiandra GD"
                            }
                        },
                        position: "right"
                    },
                    datalabels: {
                        anchor: "end",
                        align: "top",
                        font: {
                            size: 12
                        }
                    }
                }
            }
        })
    </script>
</body>

</html>